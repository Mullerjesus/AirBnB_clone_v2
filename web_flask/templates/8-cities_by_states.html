<!DOCTYPE html>  
<html lang="en">  
<head>  
    <title>Cities by States</title>  
</head>  
<body>  
    <h1>Cities by States</h1>  
    <ul>  
        {% for state in states %}  
            <li>{{ state.name }}  
                <ul>  
                    {% for city in (cities | selectattr('state_id', 'equalto', state.id)) %}  
                        <li>{{ city.name }}</li>  
                    {% endfor %}  
                </ul>  
            </li>  
        {% endfor %}  
    </ul>  
</body>  
</html>
